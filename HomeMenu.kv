#:import utils kivy.utils
#:import c colors
#:import f fonts
#:import pf pamFunctions
#:import w display.Window
MainMenuLayout:

<PAMButton>:
    font: f.getFont("normal")

<PAMActionButton>:
    size_hint: 0.3, 0.3
    background_color: 0, 0, 0, 0
    action_image: self.action_image
    d_color: self.d_color
    canvas:
        Rectangle:
            source: self.action_image
            pos: (self.pos[0]+self.size[0]/2.0) - 40, (self.pos[1]+self.size[1]/2.0) - 40
            size: (self.parent.width*0.20, self.parent.width*0.2)
<GameCarousel>:
<GameCarouselItem>:
<GameCarouselHighlighter>:
    canvas.before:
        Color:
            rgba: utils.get_color_from_hex(c.getColor("secondary"))
        Rectangle:
            pos: w.width*0.30, w.height*0.576
            size: w.width*0.28, w.height*0.04

<SideBar>:
    size_hint: 0.23, 0.25
    pos_hint: {'right':0.4, 'top':0.89}
    on_pos: pos={self.parent.x, self.parent.y}

<SideBarTab>:
    size_hint: 0.5, 0.12
    
<SideBarTabItem>:
<GameDescriptionArea>:
    orientation: 'vertical'
    size_hint: 0.86, 0.38
    pos_hint: {'right': 1, 'top': 1}

<GameTitle>:
    text_size: self.size
    font_size: 24
    bold: True
    font: f.getFont("bold")
    halign: 'center'
    valign: 'top'
    size_hint: 0.5, 0.13

<GameInfo>:
    size_hint: 1, 0.2
    text_size: self.size
    font: f.getFont("normal")
    font_size: 20 #make a variable later on 
    halign: 'left'   
    valign: 'top'

<PopupHeader@BoxLayout>:
    id: header
    orientation:'horizontal'
    size_hint: 1, 0.12
    padding: 20
    canvas:
        Color:
            rgba: utils.get_color_from_hex(c.getColor("primary"))                      
        Rectangle:
            pos: self.pos
            size: self.size
    Label: 
        text: 'TITLE'
        halign: 'left'
        text_size: self.size
        font_size: 20 #make a variable later on 
        font: f.getFont("bold")
        bold: True
        

<PopupWindowContent@BoxLayout>:
    orientation:'vertical'
    size_hint: 0.77, 0.50
    spacing: 20
    


<PopupFooter@BoxLayout>:
    id: footer
    orientation:'horizontal'
    size_hint: 1, 0.12
    canvas:
        Color:
            rgba: utils.get_color_from_hex(c.getColor("primary"))                      
        Rectangle:
            pos: self.pos
            size: self.size
<PopupButtonGroup@BoxLayout>:
    orientation: 'horizontal'
    size_hint: 0.43, 1


<PopupWindowButton>:
    size_hint: 0.19, 1
    
<PopupWindowItem>:
    background_color: utils.get_color_from_hex(c.getColor("primary"))
    size_hint: 1, 0.25
<PopupWindow>:
    id: pop
    title: ''
    background: 'img/no_alpha.png'
    separator_color: 0, 0, 0, 0
    size_hint: 0.5, 0.64
    FloatLayout:
        canvas:
            Color:
                rgba: utils.get_color_from_hex(c.getColor("secondary"))
            Rectangle:
                size: self.size
                pos: self.pos
        
        BoxLayout:
            pos: self.parent.pos
            size: self.parent.size
            orientation:'vertical'
            spacing: 20
            
            PopupHeader:

            PopupWindowContent:
                padding: 20
                Label:
                    size_hint: 0.33, 0.06
                    text: 'Message'
                    halign: 'left'
                    #text_size: self.size
                    pos_hint: {'top': 1}
                    font_size: 20 #make a variable later on 
                PopupWindowItem:
                    text: 'content'     
                PopupWindowItem:
                    text: 'content'     
 

            PopupFooter:
                PopupButtonGroup:
                    pos_hint: {'center_x': 1}
                    PopupWindowButton:
                        text: 'CONFIRM'
                        bold: True
                        background_color: utils.get_color_from_hex(c.getColor("primary"))
                        on_press: pop.dismiss()
                    PopupWindowButton:
                        text: 'EXIT'
                        bold: True
                        background_color: utils.get_color_from_hex(c.getColor("secondary"))
                        on_press: pop.dismiss()
                Label:
                    text: ''

<PAMVideo>:
    size_hint: 0.86, 0.29
    pos_hint: {'right': 1, 'top': 1}

<ControlBar>:
    orientation: 'horizontal'
    size_hint: 1, 0.08
    canvas:
        Color:
            rgb: utils.get_color_from_hex(c.getColor("primary"))
            
        Rectangle:
            pos: self.pos
            size: self.size 

<MainMenuLayout>:
  
    BoxLayout:
        orientation: 'vertical'  
        BoxLayout:
            orientation:'horizontal'
            size_hint: 1, 0.84
            SideBar:
                id: sidebar
                orientation: 'vertical'
                SideBarTab:
                    id: sidebartab1
                    func_id: 'multiplayer'
                    text: 'MULTIPLAYER'
                SideBarTab:
                    id: sidebartab2
                    func_id: 'sort'
                    text: 'SORT'
                SideBarTab:
                    id: sidebartab3
                    func_id: 'options'
                    text: 'OPTIONS'
                SideBarTab:
                    id: sidebartab4
                    func_id: 'power'
                    text: 'POWER'           
            GameCarousel:
                id: games
                orientation: 'vertical'
                size_hint: 0.28, 0.72
                pos_hint: {'center_x': 0.5, 'top': 1}
                GameCarouselHighlighter:
                    id: highlighter

                    
            BoxLayout:
                id: gameDetails
                orientation: 'vertical'
                size_hint: 0.33, 0.84
                pos_hint: {'right': 1, 'top': 1}
                spacing: 30
                PAMVideo:
                    id: pamVid
                GameDescriptionArea:
                    id: gameDescArea
                    GameTitle:
                        id: title
                        text: "Title"
                    GameInfo:
                        id: dev
                        text: "Developer:"
                    GameInfo:
                        id: pub
                        text: "Publisher:"
                    GameInfo:
                        id: year
                        text: "Year:"
                PAMButtonGroup:
                    id: actionbtns
                    orientation: 'horizontal'
                    size_hint: 1, 0.19
                    pos_hint: {'right': 1, 'top': 1}
                    PAMActionButton:
                        id: play
                        func_id: 'play'
                        d_color: '#FFFFFF00'
                        d_action: c.getColor('play-d')
                        h_action: c.getColor('play-h')
                        s_action: c.getColor('play-s')
                        action_image: self.d_action
                    PAMActionButton:
                        id: save
                        func_id: 'save'
                        d_color: '#FFFFFF00'
                        d_action: c.getColor('save-d')
                        h_action: c.getColor('save-h')
                        s_action: c.getColor('save-s')
                        action_image: self.d_action
                    PAMActionButton:
                        id: fav
                        func_id: 'fav'
                        d_color: '#FFFFFF00'
                        d_action: c.getColor('fav-d')
                        h_action: c.getColor('fav-h')
                        s_action: c.getColor('fav-s')
                        action_image: self.d_action
        ControlBar:
            id: controlbar
            Label:
                text:"Select"
            Label:
                text: "Back"
            Label:
                text: "Play"
            Label:
                text: "Favorite"
        